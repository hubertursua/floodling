/*!
 * jquery.floodling v2.0.0 (https://github.com/hyubs/floodling)
 * Copyright 2014 Hyubs Ursua <hyubs.u@gmail.com>
 * Licensed under ISC (https://github.com/hyubs/floodling/blob/master/LICENSE)
 */
!function(a){"use strict";var b=function(){if(2===arguments.length){var c=arguments[0],d=arguments[1];b._floodForm(a(this),c,d)}else if(1===arguments.length)if("object"!=typeof arguments[0]||arguments[0]instanceof Array){var d=arguments[0];b._floodElement(a(this),d)}else{var e=arguments[0];b._floodForm(a(this),e)}return a(this)};b._floodForm=function(c){if(3===arguments.length){var d={};return d[arguments[1]]=arguments[2],b._floodForm(c,d)}var d=arguments[1];for(var e in d){var f=d[e],g=a(b._getElemSelector(e),c);b._floodElement(g,f)}},b._getElemSelector=function(a){return"string"==typeof a&&"."!==a[0]&&"#"!==a[0]?'[name="'+a+'"]':a},b._floodElement=function(c,d){var e=a(b._getElemSelector(c));return b._setValue(e,d)},b._escapeValAttr=function(a){return(a+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},b._setValue=function(a,c){var d=a.attr("data-floodling-type");if(d&&"function"==typeof b._registry[d])return b._registry[d].call(a,c);var e=(a.prop("tagName")+"").toLowerCase();if("input"===e){var f=(a.attr("type")+"").toLowerCase();return"radio"===f?b._handlers.inputRadio(a,c):"checkbox"===f?b._handlers.inputCheckbox(a,c):"image"===f?b._handlers.inputImage(a,c):b._handlers.inputOthers(a,c)}return"button"===e?b._handlers.button(a,c):"textarea"===e?b._handlers.textarea(a,c):"select"===e?b._handlers.select(a,c):b.fallback.call(a,c)},b.fallback=a.fn.val,b.multiMode="floodling",b._registry={},b._handlers={},b.register=function(a,c){b._registry[a]=c},b._handlers.inputCheckbox=function(c,d){if("floodling"!==b.multiMode)return c.val(d);var e=c.attr("name");if(!(e&&e.length>2&&"[]"==e.substring(e.length-2,e.length)))return c.prop("checked",d);if(!(d instanceof Array)){var f=a('[value="'+b._escapeValAttr(d[g])+'"]',c);return f.prop("checked",d)}for(var g in d){var f=c.filter('[value="'+b._escapeValAttr(d[g])+'"]');f&&f.prop("checked",!f.prop("checked"))}},b._handlers.inputRadio=function(a,c){return a.filter('[value="'+b._escapeValAttr(c)+'"]').prop("checked",!0)},b._handlers.inputImage=function(a,b){return a.prop("src",b)},b._handlers.inputOthers=function(a,b){return a.val(b)},b._handlers.button=function(a,b){return a.html(b)},b._handlers.textarea=function(a,b){return a.val(b)},b._handlers.select=function(c,d){if("floodling"!==b.multiMode)return c.val(d);if(!c.prop("multiple"))return c.val(d);if("string"==typeof d&&(d=[d]),d instanceof Array)for(var e in d){var f=a('[value="'+b._escapeValAttr(d[e])+'"]',c);f&&f.prop("selected",!f.prop("selected"))}},a.fn.floodling=b}(jQuery);